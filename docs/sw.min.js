var h=(e,n,t)=>new Promise((a,c)=>{var r=s=>{try{i(t.next(s))}catch(l){c(l)}},p=s=>{try{i(t.throw(s))}catch(l){c(l)}},i=s=>s.done?a(s.value):Promise.resolve(s.value).then(r,p);i((t=t.apply(e,n)).next())});var o="cache-v1",f=e=>{self.clients.matchAll().then(n=>{n.forEach(t=>t.postMessage(e))})},d=(e,n)=>h(void 0,null,function*(){try{let t=yield fetch(e.clone());if(!t||t.status!==200)return;let a=yield caches.open(o);if(!n){yield a.put(e,t.clone()),f({type:"refresh",url:e.url});return}let[c,r]=yield Promise.all([t.clone().text(),n.clone().text()]);c!==r&&(yield a.put(e,t.clone()),f({type:"refresh",url:e.url}))}catch(t){}});self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(n=>Promise.all(n.map(t=>{if(t!==o)return caches.delete(t)})))),self.clients.claim()});self.addEventListener("fetch",e=>{e.respondWith(caches.match(e.request).then(n=>(e.waitUntil(d(e.request,n)),n||fetch(e.request))))});var u=["./app.min.js","./app.min.css","./manifest.json"];self.addEventListener("install",e=>{e.waitUntil(caches.open(o).then(n=>n.addAll(u))),self.skipWaiting()});
