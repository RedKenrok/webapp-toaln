(()=>{var De=e=>{var n;return(n=X(e))!=null?n:[]},X=e=>e?Array.isArray(e)?e:[e]:void 0,m=(e,n,i)=>{let r=e?n:i;return typeof r=="function"&&(r=r()),De(r)},ce="n",t=(e,n,i)=>((typeof n!="object"||n._===ce||Array.isArray(n))&&(i=n,n=void 0),{_:ce,a:n,c:X(i),t:e.toUpperCase()}),Xe=new Proxy({},{get:(e,n)=>{if(e[n])return e[n];let i=(n[0]+n.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[n]=(r,s)=>t(i,r,s)}}),te="]",le="[",We=".",Re="=",Ye="#",Q="'",$='"',qe=e=>{let n=e.length,i=0,r="",s={},l="",c=!0,u=3,a=()=>{if(l){switch(u){case 0:s[l]=c===!0?!0:c,c=!0;break;case 1:if(!s.class){s.class=l;break}s.class+=" "+l;break;case 2:s.id=l;break;case 3:r=l;break}l=""}},p,x,I=()=>{for(x=0;i<n;){if(p=e[i],i++,p===Re){c="",p=e[i];let E=p===$,A=p===Q;for((E||A)&&(c+=p,i++);i<n;){if(p=e[i],E&&p===$||A&&p===Q){c+=p,i++;break}else if(!E&&!A&&p===te)break;c+=p,i++}for((c[0]===$&&c[c.length-1]===$||c[0]===Q&&c[c.length-1]===Q)&&(c=c.substring(1,c.length-1));i<n&&(p=e[i],i++,p!==te););break}else if(p===le){x++;continue}else if(p===te){if(x--,x<0)break;continue}l+=p}a()};for(;i<n;){if(p=e[i],i++,p===Ye){a(),u=2;continue}else if(p===We){a(),u=1;continue}else if(p===le){a(),u=0,I();continue}l+=p}return[r,s]},en=new Proxy({},{get:(e,n)=>{if(e[n])return e[n];let i=(n[0]+n.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[n]=(r,s)=>{let l;if(r){let[c,u]=qe(r);l=u}return t(i,l,s)}}});var ue=e=>{if(typeof e=="object"){let n=Array.isArray(e)?[]:{};for(let i in e)n[i]=ue(e[i]);return n}return e},ge=(e,n)=>{if(e===n)return!0;if(!e||!n||typeof e!="object"||typeof n!="object")return e===n;if(e instanceof Date)return n instanceof Date&&e.getTime()===n.getTime();let i=Object.keys(e);return i.length===Object.keys(n).length&&i.every(r=>ge(e[r],n[r]))},fe=e=>{var n;let i=[];for(let r of e.childNodes)if(r instanceof Text)i.push((n=r.textContent)!=null?n:"");else{let s=r,l={};for(let c of s.attributes)l[c.name]=c.value;i.push(t(r.nodeName,l,fe(r)))}return i},Je=(e,n)=>{let i=new WeakMap,r={deleteProperty:(l,c)=>{if(Reflect.has(l,c)){let u=l[c];typeof u=="object"&&u&&i.has(u)&&i.get(u).revoke();let a=Reflect.deleteProperty(l,c);return a&&n(),a}return!0},set:(l,c,u)=>{let a=l[c];return a!==u&&(typeof a=="object"&&a&&i.has(a)&&i.get(a).revoke(),l[c]=typeof u=="object"&&u?i.has(u)?i.get(u).proxy:s(u):u,n()),!0}},s=l=>{if(i.has(l))return i.get(l).proxy;for(let u in l){let a=l[u];a&&typeof a=="object"&&(l[u]=s(a))}let c=Proxy.revocable(l,r);return i.set(l,c),c.proxy};return s(e)},pe=/[A-Z]+(?![a-z])|[A-Z]/g,de=(e,n)=>(n?"-":"")+e,he=(e,n,i,r)=>{typeof i=="string"&&(i=JSON.parse(i)),i??(i={});let s=null,l=()=>(s||(s=Promise.resolve().then(T)),s),c=Object.getPrototypeOf(i)===Proxy.prototype?i:Je(i,l),u=(f,j,g)=>{if(j)for(let d in j){let v=j[d];if(v){let S=typeof v;if(S==="function"){let y=g?.[d];if(y?.f!==v){y&&f.removeEventListener(d,y);let h=j[d]=M=>{v(M,c)};h.f=v,f.addEventListener(d,h)}}else if(d==="class"){if(typeof v=="object")if(Array.isArray(v))v=v.join(" ");else{let y="";for(let h in v)v[h]&&(y+=" "+h);v=y}f.className=v}else if(d==="style"&&typeof v=="object"){for(let y in v){let h=v[y];y=y.replace(pe,de).toLowerCase(),Array.isArray(h)&&(h=h.join(" ")),f.style.setProperty(y,h)}if(g&&g[d]&&typeof g[d]=="object"&&!Array.isArray(g[d]))for(let y in g[d])y in v||(y=y.replace(pe,de).toLowerCase(),f.style.removeProperty(y))}else v===!0?v="true":S!=="string"&&(v=v.toString()),f.setAttribute(d,v)}}if(g)for(let d in g){let v=g[d];(!j||!j[d])&&(typeof v=="function"?f.removeEventListener(d,g[d]):d==="class"?f.className="":d==="style"?f.style.cssText="":f.removeAttribute(d))}},a=new WeakMap,p=new WeakMap,x=(f,j,g,d)=>{var v,S,y;let h=0,M=0;if(j)for(;h<j.length;h++){let k=j[h];if(k.r){let L=a.get(k.r);(!L||!ge(L.m,k.m))&&(L={c:X(k.r(c,k.m)),m:k.m,r:k.r}),p.set(k.r,L),j.splice(h,1,...ue(L.c)),h--;continue}let B=!1;if(g)for(let L=h-M;L<g.length;L++){let C=g[L];if(C.t&&k.t===C.t||!C.t&&!k.t){B=!0,h!==L+M&&(f.insertBefore(f.childNodes[L+M],f.childNodes[h]),g.splice(h-M,0,...g.splice(L,1))),k.t?(u(f.childNodes[h],k.a,C.a),x(f.childNodes[h],k.c,C.c,C)):C!==k&&(f.childNodes[h].textContent=k);break}}if(!B){let L;if(k.t){L=document.createElement(k.t),k.a&&u(L,k.a),k.c&&x(L,k.c);let C=(N,K,Z)=>{Z&&(!K||K.t)?N.insertAdjacentElement(Z,L):N.parentNode.insertBefore(L,N)};h===0?C(f,d,"afterbegin"):((v=g?.length)!=null?v:0)+M>h?C(f.childNodes[h]):C(f,d,"beforeend")}else{let C=(N,K,Z)=>{Z&&(!K||K.t)?N.insertAdjacentText(Z,k):N.parentNode.insertBefore(document.createTextNode(k),N)};h===0?C(f,d,"afterbegin"):((S=g?.length)!=null?S:0)+M>h?C(f.childNodes[h]):C(f,d,"beforeend")}M++}}let z=((y=g?.length)!=null?y:0)+M;if(z>=h)for(let k=z-1;k>=h;k--)f.childNodes[k].remove()},I=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof r=="string")try{r=JSON.parse(r)}catch{r=void 0}r??(r=fe(I));let E=!0,A=!1,T=()=>{if(E&&!A&&s){A=!0,s=null;let f=X(n(c));x(I,f,r),r=f,a=p,p=new WeakMap,A=!1}};return l(),T(),[l,()=>{if(E){E=!1;for(let f=I.childNodes.length-1;f>=0;f--)I.childNodes[f].remove()}},c]};var Fe=Object.defineProperty,me=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,ve=(e,n,i)=>n in e?Fe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,D=(e,n)=>{for(var i in n||(n={}))Ve.call(n,i)&&ve(e,i,n[i]);if(me)for(var i of me(n))He.call(n,i)&&ve(e,i,n[i]);return e},W=(e,n,i)=>new Promise((r,s)=>{var l=a=>{try{u(i.next(a))}catch(p){s(p)}},c=a=>{try{u(i.throw(a))}catch(p){s(p)}},u=a=>a.done?r(a.value):Promise.resolve(a.value).then(l,c);u((i=i.apply(e,n)).next())}),re=e=>{if(typeof e=="object"){let n=Array.isArray(e)?[]:{};for(let i in e)n[i]=re(e[i]);return n}return e},ie=e=>W(void 0,null,function*(){return e>0?new Promise(n=>setTimeout(n,e)):null}),ye=e=>e.split(";")[0].trim().toLowerCase(),Ge=e=>{let n=e.match(/\.([^./?]+)(?:[?#]|$)/);return n?n[1].toLowerCase():null},Ue=function(e,n,i){let r=n.get("Content-Type");if(r)return ye(r);if(i&&i.Accept){let l=i.Accept.split(",");for(let c of l)if(c.trim()!=="*/*")return ye(c)}let s=Ge(e);return s||""},Be={method:"get",retryCodes:[429,503,504],retryDelay:500},R=e=>{e=D(D({},Be),re(e));let n=0,i=0,r=0,s=null,l=a=>W(void 0,null,function*(){let p=Date.now(),x=a-(p-n);n=p+(x>0?x:0),yield ie(x)}),c=a=>new Promise(p=>{s&&clearTimeout(s),s=setTimeout(p,a)}),u=a=>W(void 0,null,function*(){if(a.maxRequests!==void 0&&r>=a.maxRequests)return[new Error("Maximum request limit reached"),null,null];r++;let p={cache:a.cache,credentials:a.credentials,headers:a.headers,method:a.method,mode:a.mode,redirect:a.redirect,body:a.body?JSON.stringify(a.body):void 0},x=(a.domain||"")+(a.path||"");if(a.queryParams&&(x+="?"+new URLSearchParams(a.queryParams).toString()),a.timeout){let j=a.abort||new AbortController;p.signal=j.signal,setTimeout(()=>j.abort(),a.timeout)}let I=()=>W(void 0,null,function*(){var j;let g=yield((j=a.fetch)!=null?j:fetch)(x,p);if(!g.ok)return[new Error("Invalid response"),g,null];try{let d,v=!1,S=a.type||Ue(x,g.headers,a.headers);if(a.parsers){for(let y of a.parsers)if(v=y.types.includes(S),v){d=yield y.parser(g,a,S);break}}if(!v)switch(S.toLowerCase()){case"arraybuffer":d=yield g.arrayBuffer();break;case"blob":d=yield g.blob();break;case"formdata":d=yield g.formData();break;case"text/plain":case"text":case"txt":d=yield g.text();break;case"text/html-partial":case"html-partial":d=yield g.text();let y=document.createElement("template");y.innerHTML=d,d=y.content.childNodes;break;case"text/html":case"html":d=yield g.text(),d=new DOMParser().parseFromString(d,"text/html");break;case"application/json":case"text/json":case"json":d=yield g.json();break;case"image/svg+xml":case"svg":d=yield g.text(),d=new DOMParser().parseFromString(d,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":d=yield g.text(),d=new DOMParser().parseFromString(d,"application/xml");break}return[null,g,d]}catch(d){return[d||new Error("Thrown parsing error is falsy"),g,null]}}),E=()=>W(void 0,null,function*(){var j;let g=0,d=a.retryAttempts||0,v=a.retryDelay||0;for(;g<d;){let[S,y,h]=yield I();if(!S)return[S,y,h];if(!((j=a.retryCodes)!=null&&j.includes(y.status||200)))return[new Error("Invalid status code"),y,h];if(g++,g>=d)return[new Error("Too many retry attempts"),y,h];let M=v*Math.pow(2,g-1),z=y.headers.get("Retry-After");if(z){let k=parseInt(z,10);if(!isNaN(k))M=Math.max(M,k*1e3);else{let B=new Date(z).getTime();if(!isNaN(B)){let L=Date.now();M=Math.max(M,B-L)}}}yield ie(M)}return I()}),[A,T,f]=yield E();return T.ok?[A,T,f]:[new Error(T.statusText),T,f]});return a=>W(void 0,null,function*(){let p=D(D({},e),re(a));e.headers&&(p.headers=D(D({},e.headers),p.headers)),p.debounce&&(yield c(p.debounce)),p.delay&&(yield ie(p.delay)),p.throttle&&(yield l(p.throttle)),p.maxConcurrency&&i>=p.maxConcurrency&&(yield new Promise(I=>{let E=null,A=()=>{i>=p.maxConcurrency?E=requestAnimationFrame(A):(E&&clearInterval(E),I(null))};E=requestAnimationFrame(A)})),i++;let x=yield u(p);return i--,x})};var Y=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let i=0;i<e.length;i++)n.push(Y(e[i]));e=n}else{let n={};for(let i in e)n[i]=Y(e[i]);e=n}return e};var q=e=>{let n=null;return()=>(n||(n=e()),n)};var Ke=q(()=>R({method:"post",domain:"https://api.openai.com",path:"/v1/chat/completions",headers:{Accept:"application/json","Content-Type":"application/json"}})),be=(e,n,i=null,r=null)=>{let s=e.apiModel.toLowerCase().includes("o1")?"developer":"system";n=Y(n);let l=c=>{c&&(n.length>0&&n[0].role===s?n[0].content=c+" "+n[0].content:n.unshift({role:s,content:c}))};return l(r),l(i),Ke()({headers:{Authorization:"Bearer "+e.apiCredentials},body:{model:e.apiModel,messages:n,user:e.userIdentifier}}).then(([c,u,a])=>(c||(a=a?.choices?.[0]?.message),[c,u,a]))},Ze=q(()=>R({domain:"https://api.openai.com",path:"/v1/models",headers:{Accept:"application/json"}})),ke=e=>Ze()({headers:{Authorization:"Bearer "+e.apiCredentials}});var Qe=q(()=>R({credentials:"same-origin",domain:"https://api.anthropic.com",method:"post",mode:"cors",path:"/v1/messages",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","anthropic-dangerous-direct-browser-access":"true","anthropic-version":"2023-06-01","Content-Type":"application/json"}})),we=(e,n,i=null,r=null)=>(n=Y(n),r&&n.unshift({role:"user",content:r}),Qe()({headers:{"x-api-key":e.apiCredentials},body:{model:e.apiModel,messages:n,system:i}}).then(([s,l,c])=>(s||(c={role:"assistant",content:c?.content?.[0].text}),[s,l,c]))),$e=q(()=>R({credentials:"same-origin",domain:"https://api.anthropic.com",mode:"cors",path:"/v1/models",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","anthropic-dangerous-direct-browser-access":"true","anthropic-version":"2023-06-01"}})),_e=e=>$e()({headers:{"x-api-key":e.apiCredentials}}).then(([n,i,r])=>(n||(r.data=r.data.map(s=>({...s,name:s.display_name}))),[n,i,r]));var _=Object.freeze({open_ai:{code:"open_ai",name:"OpenAI",preferredModel:"gpt-4o-mini",requireCredentials:!0,modelOptionsFilter:e=>!["babbage-","dall-e-","davinci-","embedding-","moderation-","tts-","whisper-"].some(n=>e.id.toLowerCase().includes(n))&&!e.id.match(/-(?:\d){4,}-(?:\d){2,}-(?:\d){2,}$/)&&!e.id.match(/-(?:\d){4,}$$/)},anthropic:{code:"anthropic",name:"Anthropic",preferredModel:"claude-3-5-haiku-20241022",preferredModelName:"Claude 3.5 Haiku",requireCredentials:!0,modelOptionsFilter:e=>!["(old)"].some(n=>e.name.toLowerCase().includes(n))}}),je=(e,n,...i)=>{let r=null;return n.apiCode&&(r=e[n.apiCode]),r?r(n,...i):Promise.resolve([new Error("No api selected."),null,null])},O=(e,n,i=null,r=null)=>je({[_.anthropic.code]:we,[_.open_ai.code]:be},e,n,i,r),ee=e=>je({[_.anthropic.code]:_e,[_.open_ai.code]:ke},e);var oe=Object.freeze({a1:"a1",a2:"a2",b1:"b1",b2:"b2",c1:"c1",c2:"c2"}),ne=Object.keys(oe),w=Object.freeze({dan:"dan",deu:"deu",eng:"eng",epo:"epo",fry:"fry",isl:"isl",nld:"nld",nno:"nno",nob:"nob",swe:"swe",vls:"vls"}),J=Object.keys(w),P=e=>(e??"").split("_")[0].split("-")[0],Le=()=>window.navigator.languages.map(e=>e.split("-").filter((n,i)=>i<2).join("-").replace("-","_").toLowerCase()).reduce((e,n)=>{if(e)return e;for(let i=0;i<J.length;i++){let r=J[i];if(n===r||r.startsWith(n+"_"))return r}return e},null)??w.eng;var b=Object.freeze({setup:"setup",overview:"overview",options:"options",statistics:"statistics",clarification:"clarification",comprehension:"comprehension",conversation:"conversation",vocabulary:"vocabulary"});var o=(e,n,i=null)=>{if(i??=e.sourceLocale,!(i in F)||!(n in F[i]))return n;let r=s=>s&&(Array.isArray(s)?s.map(l=>r(l)):s.replace(/{%s:([^%]+)%}/g,(l,c)=>{let u=c.split(".").reduce((a,p)=>a?.[p],e);return u!=null?Array.isArray(u)?u.join(" "):u.toString():l}).replace(/{%t:([^%]+)%}/g,(l,c)=>{if(c in F[i]){let u=F[i][c];if(u!=null)return Array.isArray(u)?u.join(" "):u.toString()}return l}));return r(F[i][n])},F=Object.freeze({[w.eng]:{[w.dan]:"Danish",[w.deu]:"German",[w.eng]:"English (United Kingdom)",[w.epo]:"Esperanto",[w.fry]:"Frisian (West)",[w.isl]:"Icelandic",[w.nld]:"Dutch",[w.nno]:"Norwegian (Nynorsk)",[w.nob]:"Norwegian (Bokm\xE5l)",[w.swe]:"Swedish",[w.vls]:"Flamish","proficiency_name-a1":"A1: Beginner","proficiency_description-a1":["Reading: You can understand familiar names, words and very simple sentences, for example on notices and posters or in catalogues.","Writing: You can write a short, simple postcard, for example sending holiday greetings. You can fill in forms with personal details, for example entering my name, nationality and address on a hotel registration form."],"proficiency_example-a1":'"Hello! My name is Maria. I live in a small house in London with my family. I have one brother and one sister. I like to eat apples and pears. What is your favourite fruit?"',"proficiency_name-a2":"A2: Pre-intermediate","proficiency_description-a2":["Reading: You can read very short, simple texts. You can find specific, predictable information in simple everyday material such as advertisements, prospectuses, menus and timetables and you can understand short simple personal letters.","Writing: You can write short, simple notes and messages relating to matters in areas of immediate needs. You can write a very simple personal letter, for example thanking someone for something."],"proficiency_example-a2":'"Last weekend, I went to the park with my friends. We had a picnic with sandwiches and juice. The weather was sunny, and we played football. After that, we went to a caf\xE9 and had some ice cream. It was a fun day!"',"proficiency_name-b1":"B1: Intermediate","proficiency_description-b1":["Reading: You can understand texts that consist mainly of high frequency every day or job-related language. You can understand the description of events, feelings and wishes in personal letters.","Writing: You can write simple connected text on topics which are familiar or of personal interest. You can write personal letters describing experiences and impressions."],"proficiency_example-b1":`"I enjoy reading books, especially mystery novels. Recently, I finished a story about a detective who solved a difficult case. It was very interesting, and I couldn't stop reading. I like mysteries because they make me think and try to guess the ending."`,"proficiency_name-b2":"B2: Upper-intermediate","proficiency_description-b2":["Reading: You can read articles and reports concerned with contemporary problems in which the writers adopt particular attitudes or viewpoints. You can understand contemporary literary prose.","Writing: You can write clear, detailed text on a wide range of subjects related to my interests. You can write an essay or report, passing on information or giving reasons in support of or against a particular point of view. You can write letters highlighting the personal significance of events and experiences."],"proficiency_example-b2":'"The concept of remote work has become increasingly popular in recent years. It offers flexibility and convenience for employees, allowing them to work from anywhere. However, it also presents challenges, such as maintaining productivity and communication with colleagues. Overall, I think the benefits outweigh the drawbacks."',"proficiency_name-c1":"C1: Advanced","proficiency_description-c1":["Reading: You can understand long and complex factual and literary texts, appreciating distinctions of style. You can understand specialised articles and longer technical instructions, even when they do not relate to your field.","Writing: You can express yourself in clear, well-structured text, expressing points of view at some length. You can write about complex subjects in a letter, an essay or a report, underlining what you consider to be the salient issues. You can select style appropriate to the reader in mind."],"proficiency_example-c1":'"Climate change is one of the most pressing issues of our time. While renewable energy sources such as wind and solar power are growing in importance, transitioning away from fossil fuels remains a significant challenge. Governments must collaborate with industries and communities to create sustainable policies that balance economic growth with environmental conservation."',"proficiency_name-c2":"C2: Proficient","proficiency_description-c2":["Reading: You can read with ease virtually all forms of the written language, including abstract, structurally or linguistically complex texts such as manuals, specialised articles and literary works.","Writing: You can write clear, smoothly-flowing text in an appropriate style. You can write complex letters, reports or articles which present a case with an effective logical structure which helps the recipient to notice and remember significant points. You can write summaries and reviews of professional or literary works."],"proficiency_example-c2":'"The nuances of linguistic evolution reveal much about cultural and societal shifts over time. For instance, the adoption of loanwords often signals a period of cultural exchange or influence. Analysing such patterns not only enhances our understanding of language development but also offers profound insights into historical relationships between civilizations. This dynamic interplay underscores the complexity and interconnectedness of human communication."',"prompt-context":'You are an expert in and teacher of {%t:{%s:targetLocale%}%}. The user is studying {%t:{%s:targetLocale%}%}. The user already masters the language at CEFR level {%s:proficiencyLevel%}. This means that the user already has the following skills: "{%t:proficiency_description-{%s:proficiencyLevel%}%}". However, the user wants to improve their proficiency further.',"prompt-comprehension":"Write a reading and writing exercise where the user receives a text in {%t:{%s:targetLocale%}%} along with a question in {%t:{%s:sourceLocale%}%} about the text, to which the user must respond in {%t:{%s:targetLocale%}%}. Do not provide any further instructions, explanations, or answers to the user. Always write in plain text without any formatting, labels, or headings.","prompt-comprehension-follow_up":"Provide feedback on the reading and writing exercise given. Offer concise feedback on the {%t:{%s:targetLocale%}%} with in-depth analysis that is clear enough for the user's level of knowledge. Write the feedback in {%t:{%s:sourceLocale%}%}. Focus exclusively on linguistic aspects and ignore content-related evaluations or interpretations of the message. Always write in plain text without any formatting, labels, or headings.","prompt-conversation":"You will simulate a conversation with the user in {%t:{%s:targetLocale%}%}. Do not provide any further instructions or explanations to the user. Always write in plain text without any formatting, labels, or headings. Write the first message in the conversation, immediately introducing a topic to discuss.","prompt-conversation-follow_up":"You are simulating a conversation with the user in {%t:{%s:targetLocale%}%}. First, provide brief, in-depth feedback on the message in {%t:{%s:sourceLocale%}%}, focusing solely on linguistic aspects and ignoring any content-related evaluations or interpretations. Then, respond to the message in {%t:{%s:targetLocale%}%}. Do not provide any further instructions or explanations to the user. Always write in plain text without any formatting, labels, or headings.","prompt-clarification":"The user has a question below, answer it concisely with in-depth feedback, appropriate to the user's proficiency level. Answer the question {%t:{%s:sourceLocale%}%} and provide examples in {%t:{%s:targetLocale%}%} where appropriate. Always write in plain text without any formatting, labels, or headings. Do not answer the question if it is not language-related.","prompt-topic":' Incorporate the following topic into your message "{%topic%}".',"prompt-vocabulary":"Write a word along with a definition in {%t:{%s:targetLocale%}%}. The user will then write a sentence in {%t:{%s:targetLocale%}%} in which this word must be used. Take into account the user's skill and language level. Do not provide any additional instructions, explanations, or the answer to the user. Always write in plain text without any formatting, labels, or headings.","prompt-vocabulary-follow_up":"Provide feedback on the sentence in which the user has answered. Check whether the word has been used correctly in the sentence. Provide concise feedback on the {%t:{%s:targetLocale%}%} with considerable depth that is clear enough for the user's level of knowledge. Write the feedback in {%t:{%s:sourceLocale%}%}. Focus exclusively on linguistic aspects and ignore content-related evaluations or interpretations of the message. Always write in plain text without any formatting, labels, or headings.",greeting:"Hi!","button-go_back":"Go back","button-reset":"Reset","button-generate":"Generate","button-answer":"Answer","button-reply":"Reply","button-ask":"Ask","credits-link":"Made by {%name%}","setup-source_language":"So, you want to improve your proficiency in a language? Let this app help you practise. We need to start by choosing a language you already know.","setup-target_language":"Now the next step, which language would you like to learn?","setup-proficiency_leven":"How proficient would you say you already are in the language? See the explanation below along with an example text to get an idea of what kind of texts to expect.","setup-topics_of_interest":"It's much more enjoyable if the exercises sometimes feature a topic you find interesting. Therefore, fill in a few topics below that can regularly appear. Think mainly of any hobbies or other interests. The more, the better!","setup-api_code":`This app uses a "Large Language Model" to generate and assess exercises. You may have heard about it, everyone in the tech sector keeps talking about developments in artificial intelligence. The app uses an LLM, but doesn't come with one, so we need to link it to an LLM provider. Which provider would you like to use?`,"setup-api_credentials":"Now, the important question is the key. You can get it from the developer's dashboard. It probably states that you shouldn't share it with third parties. Fortunately, this app never sends the key elsewhere. Still not convinced? Check out the app's source code or wait for a version that no longer requires this.","setup-test_api_credentials":"Test key","setup-api_credentials_untested":"Test the credentials before proceeding.","setup-api_credentials_tested":'The provided key works. Now you can choose which "Large Language Model" to use. Not sure what the differences are? No problem, we recommend selecting "{%preferredModel%}". That should be fine.',"setup-outro":"Good luck and have fun!","setup-next":"Start practising","overview-intro":"What would you like to do?","overview-comprehension-title":"Answer questions about texts","overview-comprehension-description":"You'll receive a short text in {%t:{%s:targetLanguage%}%} along with a question to be answered in {%t:{%s:targetLanguage%}%}.","overview-conversation-title":"Practise conversations","overview-conversation-description":"A short conversation will be simulated in {%t:{%s:targetLanguage%}%}, for example, about ordering food or discussing a hobby.","overview-clarification-title":"Ask for clarification","overview-clarification-description":"Get explanations about {%t:{%s:targetLanguage%}%}, such as a grammar rule like conjugations or cases.","overview-statistics-title":"View statistics","overview-statistics-description":"Take a look at the number of activities you have completed.","overview-options-title":"Adjust options","overview-options-description":"Change the language you want to learn, the topics you find interesting, or the LLM used.","overview-vocabulary-title":"Learn new words","overview-vocabulary-description":"You'll receive a word and definition in {%t:{%s:targetLanguage%}%}, respond with a scentence using the word in{%t:{%s:targetLanguage%}%}.","options-source_language":"Which language do you already know?","options-target_language":"Which language would you like to learn?","options-proficiency_leven":"How proficient are you in the language? See the explanation below along with an example text to get an idea of what kind of texts to expect.","options-topics_of_interest":"Fill in a few topics below that can regularly appear in the exercises.","options-api_code":'This app uses a "Large Language Model" to generate and assess exercises. Which provider would you like to link?',"options-api_credentials":"Enter the key from the developer's dashboard.","options-test_api_credentials":"Test key","options-api_credentials_untested":"Test the credentials before proceeding.","options-api_credentials_tested":'The provided key works. Choose a "Large Language Model" to use, we recommend "{%preferredModel%}".',"statistics-activity_per_category":"In total, you have answered {%s:statisticComprehensionActivity%} questions about texts, sent {%s:statisticConversationActivity%} messages in practice conversations, {%s:statisticVocabularyActivity%} words practised, and asked {%s:statisticClarificationActivity%} questions.","statistics-no_activity":"Unfortunately, you haven't completed enough activities yet to display here. Go to the overview and choose an exercise to start. Your progress will be tracked in the background.","statistics-no_activity_streak":"You currently have no ongoing activity streak. You can build one by completing at least one exercise on multiple consecutive days.","statistics-current_activity_streak":"Your current activity streak is {%s:statisticCurrentActivityStreak%} days long.","statistics-longest_activity_streak":"Your longest activity streak ever was {%s:statisticLongestActivityStreak%} days long.","clarification-intro":"What would you like more information about?","clarification-placeholder":"I'm wondering about...","comprehension-intro":"In a moment you'll read a text in {%t:{%s:targetLanguage%}%} along with a question about it. Answer the question in {%t:{%s:targetLanguage%}%}. You'll then receive some feedback regarding your answer.","conversation-intro":"In a moment you'll simulate a conversation in {%t:{%s:targetLanguage%}%}, so always respond in {%t:{%s:targetLanguage%}%}. You may receive feedback along the way.","vocabulary-intro":"In a moment you'll read a word together with its definition in {%t:{%s:targetLanguage%}%}. Answer with a scentence that uses the word in {%t:{%s:targetLanguage%}%}. You'll then receive some feedback regarding your answer."},[w.nld]:{[w.dan]:"Deens",[w.deu]:"Duits",[w.eng]:"Engels (Verenigd Koninkrijk)",[w.epo]:"Esperanto",[w.fry]:"Fries (West)",[w.isl]:"IJslands",[w.nld]:"Nederlands",[w.nno]:"Noors (Nynorsk)",[w.nob]:"Noors (Bokm\xE5l)",[w.swe]:"Zweeds",[w.vls]:"Vlaams","proficiency_name-a1":"A1: Beginner","proficiency_description-a1":["Lezen: Je kunt vertrouwde namen, woorden en zeer eenvoudige zinnen begrijpen, bijvoorbeeld op aankondigingen en posters of in catalogi.","Schrijven: Je kunt een korte, eenvoudige ansichtkaart schrijven, bijvoorbeeld om vakantiegroeten te sturen. Je kunt formulieren invullen met persoonlijke gegevens, zoals je naam, nationaliteit en adres op een hotelregistratieformulier."],"proficiency_example-a1":'"Hallo! Ik heet Maria. Ik woon in een klein huis in Amsterdam met mijn familie. Ik heb een broer en een zus. Ik hou van appels en peren. Wat is jouw favoriete fruit?"',"proficiency_name-a2":"A2: Pre-intermediair","proficiency_description-a2":["Lezen: Je kunt zeer korte, eenvoudige teksten lezen. Je kunt specifieke, voorspelbare informatie vinden in eenvoudig alledaags materiaal zoals advertenties, folders, menu's en dienstregelingen, en je kunt korte eenvoudige persoonlijke brieven begrijpen.","Schrijven: Je kunt korte, eenvoudige notities en berichten schrijven die betrekking hebben op zaken van directe noodzaak. Je kunt een heel eenvoudige persoonlijke brief schrijven, bijvoorbeeld om iemand te bedanken."],"proficiency_example-a2":'"Afgelopen weekend ging ik met mijn vrienden naar het park. We hadden een picknick met broodjes en sap. Het weer was zonnig, en we speelden voetbal. Daarna gingen we naar een caf\xE9 en aten we ijs. Het was een leuke dag!"',"proficiency_name-b1":"B1: Intermediair","proficiency_description-b1":["Lezen: Je kunt teksten begrijpen die voornamelijk bestaan uit alledaagse of werkgerelateerde taal met een hoge frequentie. Je kunt de beschrijving van gebeurtenissen, gevoelens en wensen begrijpen in persoonlijke brieven.","Schrijven: Je kunt eenvoudige, samenhangende teksten schrijven over onderwerpen die vertrouwd of van persoonlijk belang zijn. Je kunt persoonlijke brieven schrijven waarin je ervaringen en indrukken beschrijft."],"proficiency_example-b1":'"Ik lees graag boeken, vooral detectiveverhalen. Onlangs heb ik een verhaal gelezen over een rechercheur die een moeilijk mysterie oploste. Het was erg interessant, en ik kon niet stoppen met lezen. Ik hou van dit genre omdat het me aan het denken zet en ik probeer het einde te raden."',"proficiency_name-b2":"B2: Upper-intermediair","proficiency_description-b2":["Lezen: Je kunt artikelen en rapporten lezen die gaan over actuele problemen waarin de schrijvers specifieke houdingen of standpunten innemen. Je kunt eigentijdse literaire proza begrijpen.","Schrijven: Je kunt duidelijke, gedetailleerde teksten schrijven over een breed scala aan onderwerpen die verband houden met je interesses. Je kunt een essay of rapport schrijven waarin je informatie doorgeeft of redenen geeft ter ondersteuning of afwijzing van een bepaald standpunt. Je kunt brieven schrijven waarin je de persoonlijke betekenis van gebeurtenissen en ervaringen benadrukt."],"proficiency_example-b2":`"Het concept van thuiswerken is de laatste jaren steeds populairder geworden. Het biedt flexibiliteit en gemak voor werknemers, waardoor ze overal kunnen werken. Maar het brengt ook uitdagingen met zich mee, zoals het behouden van productiviteit en communicatie met collega's. Over het algemeen denk ik dat de voordelen groter zijn dan de nadelen."`,"proficiency_name-c1":"C1: Gevorderd","proficiency_description-c1":["Lezen: Je kunt lange en complexe feitelijke en literaire teksten begrijpen en waarderen, waarbij je onderscheid maakt in stijl. Je kunt gespecialiseerde artikelen en langere technische instructies begrijpen, zelfs wanneer deze niet in je vakgebied liggen.","Schrijven: Je kunt jezelf duidelijk en goed gestructureerd uitdrukken in tekst, waarbij je standpunten uitvoerig uiteenzet. Je kunt schrijven over complexe onderwerpen in een brief, essay of rapport, en daarbij benadrukken wat je als de belangrijkste kwesties beschouwt. Je kunt een stijl kiezen die geschikt is voor de beoogde lezer."],"proficiency_example-c1":'"Klimaatverandering is een van de meest urgente problemen van deze tijd. Hoewel hernieuwbare energiebronnen zoals wind- en zonne-energie steeds belangrijker worden, blijft de overgang van fossiele brandstoffen een grote uitdaging. Overheden moeten samenwerken met industrie\xEBn en gemeenschappen om duurzame beleidsmaatregelen te cre\xEBren die economische groei en milieubescherming in balans brengen."',"proficiency_name-c2":"C2: Proficient","proficiency_description-c2":["Lezen: Je kunt vrijwel alle vormen van geschreven taal met gemak lezen, inclusief abstracte, structureel of taalkundig complexe teksten zoals handleidingen, gespecialiseerde artikelen en literaire werken.","Schrijven: Je kunt heldere, vloeiende teksten schrijven in een passende stijl. Je kunt complexe brieven, rapporten of artikelen schrijven die een zaak presenteren met een effectieve logische structuur die de ontvanger helpt belangrijke punten op te merken en te onthouden. Je kunt samenvattingen en recensies schrijven van professionele of literaire werken."],"proficiency_example-c2":'"De nuances van taalontwikkeling onthullen veel over culturele en maatschappelijke veranderingen door de tijd heen. Zo duidt de opname van leenwoorden vaak op een periode van culturele uitwisseling of invloed. Het analyseren van dergelijke patronen verrijkt niet alleen ons begrip van taalontwikkeling, maar biedt ook waardevolle inzichten in historische relaties tussen beschavingen. Deze dynamiek benadrukt de complexiteit en verbondenheid van menselijke communicatie."',"prompt-context":'Je bent een expert in en docent van het {%t:{%s:targetLocale%}%}. De gebruiker is {%t:{%s:targetLocale%}%} aan het studeren. De gebruiker beheerst de taal al tot CEFR niveau {%s:proficiencyLevel%}. Dit betekend dat de gebruiker al de volgende vaardigheden beheerst: "{%t:proficiency_description-{%s:proficiencyLevel%}%}" Maar de gebruiker wil de taal nog beter leren beheersen.',"prompt-comprehension":"Schrijf een lees en schrijfvaardigheidsoefening waarbij de gebruiker een tekst in het {%t:{%s:targetLocale%}%} krijgt samen met een vraag in het {%t:{%s:sourceLocale%}%} over de tekst waarop de gebruiker moet antwoorden in het {%t:{%s:targetLocale%}%}. Geef geen verdere instructies, uitleg of het antwoord aan de gebruiker. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten.","prompt-comprehension-follow_up":"Geef feedback op de lees en schrijfvaardigheidsoefening die gesteld is. Geef beknopt feedback over het {%t:{%s:targetLocale%}%} met veel diepgang dat duidelijk genoeg is voor het kennis niveau van de gebruiker. Schrijf de feedback in het {%t:{%s:sourceLocale%}%}. Richt je hierbij uitsluitend op taalkundige aspecten en negeer inhoudelijke evaluaties of interpretaties van het bericht. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten.","prompt-conversation":"Je gaat met de gebruiker een gesprek simuleren in het {%t:{%s:targetLocale%}%}. Geef geen verdere instructies of uitleg aan de gebruiker. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten. Schrijf het eerste bericht in een gesprek dat al gelijk een onderwerp introduceert om het over te hebben.","prompt-conversation-follow_up":"Je bent met de gebruiker een gesprek aan het simuleren in het {%t:{%s:targetLocale%}%}. Geef als antwoord op een bericht eerst beknopt feedback met veel diepgang dat duidelijk genoeg is voor het kennis niveau van de gebruiker in het {%t:{%s:sourceLocale%}%}. Richt je hierbij uitsluitend op taalkundige aspecten en negeer inhoudelijke evaluaties of interpretaties van het bericht. Ga daarna verder met het antwoorden op het bericht in het {%t:{%s:targetLocale%}%}. Geef geen verdere instructies of uitleg aan de gebruiker. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten.","prompt-clarification":"De gebruiker heeft onderstaande vraag, beantwoord de vraag beknopt met veel diepgang dat duidelijk genoeg is voor het kennis niveau van de gebruiker. Beantwoord de vraag in het {%t:{%s:sourceLocale%}%} geef voorbeelden in het {%t:{%s:targetLocale%}%} waar nodig. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten. Beantwoord de vraag niet als het absoluut niet taal gerelateerd is.","prompt-topic":' Verwerk het volgende onderwerp in jouw bericht "{%topic%}".',"prompt-vocabulary":"Schrijf een woord samen met een definitie er achter in het {%t:{%s:targetLocale%}%}. De gebruiker zal vervolgens een zin in het {%t:{%s:targetLocale%}%} schrijven waarin dit woord verwerkt moeten worden. Hou hierbij rekening met de vaardigheid en taalniveau van de gebruiker. Geef geen verdere instructies, uitleg of het antwoord aan de gebruiker. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten.","prompt-vocabulary-follow_up":"Geef feedback op de zin waarmee de gebruik antwoord heeft gegeven. Controleer of de woord juist gebruikt is in de zin. Geef beknopt feedback over het {%t:{%s:targetLocale%}%} met veel diepgang dat duidelijk genoeg is voor het kennis niveau van de gebruiker. Schrijf de feedback in het {%t:{%s:sourceLocale%}%}. Richt je hierbij uitsluitend op taalkundige aspecten en negeer inhoudelijke evaluaties of interpretaties van het bericht. Schrijf altijd in platte tekst zonder enige opmaak, labels of kopteksten.",greeting:"Hoi!","button-go_back":"Ga terug","button-reset":"Resetten","button-generate":"Genereren","button-answer":"Antwoorden","button-reply":"Antwoorden","button-ask":"Vragen","credits-link":"Gemaakt door {%name%}","setup-source_language":"Dus jij wilt een taal beter beheersen? Laat deze app je helpen met oefenen. We moeten beginnen met een taal te kiezen die je al kent.","setup-target_language":"Nu het volgende probleem, welke taal wil je leren?","setup-proficiency_leven":"Hoe goed zou jij zeggen dat je al in de taal bent? Zie de uitleg hieronder samen met een voorbeeld tekst om een idee te geven wat voor teksten je kan verwachten.","setup-topics_of_interest":"Het is natuurlijk veel leuker als er af en toe een onderwerp voorbij komt wat je interessant vind. Vul daarom hieronder een aantal onderwerpen in die regelmatig terug kunnen komen. Denk hierbij vooral aan enige hobbies of andere interesses. Des te meer des te beter!","setup-api_code":'Om te oefenen wordt gebruik gemaakt van een "Large Language Model". Je hebt er vast wel van gehoord, iedereen in de technologie sector houdt maar niet op over de ontwikkelingen in kunstmatige intelligentie. De app maakt dus gebruik van een LLM om de oefening te maken en te beoordelen. Helaas komt de app niet zelf met een eentje, dus moeten we een koppeling maken met een LLM. Met welke aanbieder wil je een koppeling maken?',"setup-api_credentials":"Nu is de grote vraag nog de sleutel. Deze kun je bij het ontwikkelaars paneel. Er staat waarschijnlijk al bij vermeld dat je deze niet met derden moet delen. Gelukkig stuurt deze app nooit de sleutel door. Vertrouw je het toch niet? Bekijk dan de brondcode van deze app, of wacht wellicht tot er een variant gemaakt is waarbij dat niet meer nodig is.","setup-test_api_credentials":"Sleutel testen","setup-api_credentials_untested":"Test de gegevens eerst voordat je verder gaat.","setup-api_credentials_tested":'De opgegeven sleutel werkt, nu kan je nog kiezen uit welke "Large Language Model" je wilt gebruiken. Heb je geen idee wat de verschillen zijn? Geen probleem, we raden aan dat je "{%preferredModel%}" selecteert, daarmee komt het vast wel goed.',"setup-outro":"Heel veel succes en plezier!","setup-next":"Begin met oefenen","overview-intro":"Wat wil je gaan doen?","overview-comprehension-title":"Vragen over teksten beantwoorden","overview-comprehension-description":"Je krijgt een korte tekst in het {%t:{%s:targetLanguage%}%} samen met een vraag die kan beantwoorden in natuurlijk het {%t:{%s:targetLanguage%}%}.","overview-conversation-title":"Gesprekken oefenen","overview-conversation-description":"Er zal een kort gesprekje gespeeld worden in het {%t:{%s:targetLanguage%}%} over bijvoorbeeld het bestellen van eten of over een hobby.","overview-clarification-title":"Uitleg vragen","overview-clarification-description":"Krijg verduidelijk over het {%t:{%s:targetLanguage%}%}, bijvoorbeeld een grammatica regel zoals vervoegingen en naamvallen.","overview-statistics-title":"Statistieken inzien","overview-statistics-description":"Neem een kijkje in het aantal activiteiten dat je gedaan hebt.","overview-options-title":"Opties aanpassen","overview-options-description":"Pas aan welke taal je wilt leren, welke onderwerpen je interessant vind of welke LLM gebruikt wordt.","overview-vocabulary-title":"Nieuwe woorden leren","overview-vocabulary-description":"Je krijgt een woord en definitie in het {%t:{%s:targetLanguage%}%}, schrijf vervolgens een zin het {%t:{%s:targetLanguage%}%} dat dit woord gebruikt.","options-source_language":"Welke taal ken je al?","options-target_language":"Welke taal wil je leren?","options-proficiency_leven":"Hoe vaardig ben je al in de taal? Zie de uitleg hieronder samen met een voorbeeld tekst om een idee te geven wat voor teksten je kan verwachten.","options-topics_of_interest":"Vul hieronder een aantal onderwerpen in die regelmatig terug kunnen komen in de oefening.","options-api_code":'Om te oefenen wordt gebruik gemaakt van een "Large Language Model" om de oefening te maken en te beoordelen. Met welke aanbieder wil je een koppeling maken?',"options-api_credentials":"Voer de sleutel uit het ontwikkelaars paneel in.","options-test_api_credentials":"Sleutel testen","options-api_credentials_untested":"Test de gegevens eerst voordat je verder gaat.","options-api_credentials_tested":'De opgegeven sleutel werkt. Kies een "Large Language Model" dat je wilt gebruiken, wij raden "{%preferredModel%}" aan.',"statistics-activity_per_category":" In totaal heb je {%s:statisticComprehensionActivity%} vragen over teksten beantwoord, {%s:statisticConversationActivity%} berichten verstuurd in oefen gesprekken, {%s:statisticVocabularyActivity%} woorden geoefened, en {%s:statisticClarificationActivity%} vragen gesteld.","statistics-no_activity":"Je hebt helaas nog niet genoeg activiteiten gedaan om hier weer te geven. Ga naar het overzicht en kies een oefening om te beginnen, op de achtergrond zal bijgehouden worden hoeveel je er al voltooid hebt.","statistics-no_activity_streak":"Je hebt op dit momenten geen lopende activiteitenreeks opgebouwd. Deze krijg je door op meerdere dagen op een rij minimaal \xE9\xE9n oefening te doen.","statistics-current_activity_streak":"Op dit moment is jouw activiteitenreeks {%s:statisticCurrentActivityStreak%} dagen lang.","statistics-longest_activity_streak":" Jouw langste activiteitenreeks ooit was {%s:statisticLongestActivityStreak%} dagen lang.","clarification-intro":"Waar wil je meer over weten?","clarification-placeholder":"Ik vraag mij af...","comprehension-intro":"Je leest straks een tekst in het {%t:{%s:targetLanguage%}%} samen met een vraag erover, beantwoord de vraag in het {%t:{%s:targetLanguage%}%}. Vervolgens zal je enige verbeterpunten krijgen over jouw antwoord.","conversation-intro":"Je gaat straks een gesprek simuleren in het {%t:{%s:targetLanguage%}%} zorg daarom dat je ook altijd in het {%t:{%s:targetLanguage%}%} antwoord. Tussendoor zal je enige verbeterpunten kunnen ontvangen.","vocabulary-intro":"Je leest straks een woord samen met de definitie ervan in het {%t:{%s:targetLanguage%}%}. Antwoord met een zin waar het woord ingebruikt wordt in het {%t:{%s:targetLanguage%}%}. Vervolgens zal je enige verbeterpunten krijgen over jouw antwoord."}}),V=Object.keys(F);var xe=e=>e.apiCode&&_[e.apiCode]&&(!_[e.apiCode].requireCredentials||e.apiCredentialsTested)&&(e.apiModel??_[e.apiCode].preferredModel),Me=e=>[t("b",o(e,"greeting")),t("label",{for:"select_source_language"},o(e,"options-source_language")),t("select",{id:"select_source_language",change:n=>{e.sourceLocale!==n.target.selectedOptions[0].value&&(e.sourceLocale=n.target.selectedOptions[0].value,e.sourceLanguage=P(e.sourceLocale))}},V.map(n=>t("option",{selected:e.sourceLocale===n?"selected":!1,value:n},o(e,n,n)))),t("label",{for:"select_target_language"},o(e,"options-target_language")),t("select",{id:"select_target_language",change:n=>{e.targetLocale!==n.target.selectedOptions[0].value&&(e.targetLocale=n.target.selectedOptions[0].value,e.targetLanguage=P(e.targetLocale))}},J.map(n=>t("option",{selected:e.targetLocale===n?"selected":!1,value:n},o(e,n)))),t("label",{for:"select_proficiency_level"},o(e,"options-proficiency_leven")),t("select",{id:"select_proficiency_level",change:n=>{e.proficiencyLevel!==n.target.selectedOptions[0].value&&(e.proficiencyLevel=n.target.selectedOptions[0].value)}},ne.map(n=>t("option",{selected:e.proficiencyLevel===n?"selected":!1,value:n},o(e,"proficiency_name-"+n)))),t("ul",o(e,"proficiency_description-"+e.proficiencyLevel).map(n=>t("li",n))),t("blockquote",t("p",m(V.includes(e.targetLocale),o(e,"proficiency_example-"+e.proficiencyLevel,e.targetLocale),o(e,"proficiency_example-"+e.proficiencyLevel)))),t("label",{for:"input_topics_of_interest"},o(e,"options-topics_of_interest")),...e.topicsOfInterest.map((n,i)=>t("input",{keyup:r=>{r.target.value?e.topicsOfInterest[i]=r.target.value:e.topicsOfInterest.splice(i,1)},value:n})),t("input",{keyup:n=>{n.target.value&&e.topicsOfInterest.push(n.target.value)},id:"input_topics_of_interest"}),t("label",{for:"select_api_code"},o(e,"options-api_code")),t("select",{id:"select_api_code",change:n=>{e.apiCode!==n.target.selectedOptions[0].value&&(e.apiCode=n.target.selectedOptions[0].value,e.apiCredentialsTested=!1)}},Object.keys(_).map(n=>t("option",{selected:e.apiCode===n?"selected":!1,value:n},_[n].name))),..._[e.apiCode].requireCredentials?[t("label",{for:"input-api_credentials"},o(e,"options-api_credentials")),t("textarea",{id:"input-api_credentials",keyup:n=>{e.apiCredentials=n.target.value}},e.apiCredentials)]:[],t("button",{click:()=>{e.apiCredentialsPending=!0,ee(e).then(([n,i,r])=>{e.apiCredentialsPending=!1,n?(e.apiCredentialsTested=!1,e.apiCredentialsError=n.toString(),e.apiModels=null):(e.apiCredentialsTested=!0,e.apiCredentialsError=!1,e.apiModels=r)})},type:"button"},[o(e,"options-test_api_credentials"),t("span",{class:e.apiCredentialsPending?"pending":""})]),...e.apiCredentialsError?[t("p",e.apiCredentialsError)]:[],...e.apiCredentialsTested?[t("label",{for:"select_api_model"},o(e,"options-api_credentials_tested").replace("{%preferredModel%}",_[e.apiCode].preferredModelName??_[e.apiCode].preferredModel)),t("select",{id:"select_api_model",change:n=>{e.apiModel!==n.target.selectedOptions[0].value&&(e.apiModel=n.target.selectedOptions[0].value)}},e.apiModels.data.filter(_[e.apiCode].modelOptionsFilter??(()=>!0)).sort((n,i)=>n.id.localeCompare(i.id)).map(n=>t("option",{selected:(e.apiModel??_[e.apiCode].preferredModel)===n.id?"selected":!1,value:n.id},n.name??n.id)))]:[t("p",o(e,"options-api_credentials_untested"))],t("button",{click:()=>{xe(e)&&(e.screen=b.overview)},disabled:!xe(e),type:"button"},o(e,"button-go_back"))];var Ce=e=>[t("p",[t("b",o(e,"greeting")),t("br"),o(e,"overview-intro")]),t("div",{class:"vertical-layout"},[t("button",{class:"card",click:()=>{e.screen=b.comprehension},type:"button"},[t("span",{class:"icon"},"\u{1F4D6}"),t("b",o(e,"overview-comprehension-title")),t("br"),o(e,"overview-comprehension-description")]),t("button",{class:"card",click:()=>{e.screen=b.vocabulary},type:"button"},[t("span",{class:"icon"},"\u{1F50E}"),t("b",o(e,"overview-vocabulary-title")),t("br"),o(e,"overview-vocabulary-description")]),t("button",{class:"card",click:()=>{e.screen=b.conversation},type:"button"},[t("span",{class:"icon"},"\u{1F4AC}"),t("b",o(e,"overview-conversation-title")),t("br"),o(e,"overview-conversation-description")]),t("button",{class:"card",click:()=>{e.screen=b.clarification},type:"button"},[t("span",{class:"icon"},"\u{1F64B}"),t("b",o(e,"overview-clarification-title")),t("br"),o(e,"overview-clarification-description")]),t("div",{class:"margin"}),t("button",{class:"card",click:()=>{e.screen=b.statistics},type:"button"},[t("span",{class:"icon"},"\u{1F4C8}"),t("b",o(e,"overview-statistics-title")),t("br"),o(e,"overview-statistics-description")]),t("button",{class:"card",click:()=>{e.screen=b.options},type:"button"},[t("span",{class:"icon"},"\u2699\uFE0F"),t("b",o(e,"overview-options-title")),t("br"),o(e,"overview-options-description")]),t("p",{class:"text-right"},t("a",{href:"https://rondekker.com/",target:"_blank",rel:"noopener me"},o(e,"credits-link").replace("{%name%}","Ron Dekker")))])];var ae=e=>e.apiCode&&_[e.apiCode]&&(!_[e.apiCode].requireCredentials||e.apiCredentialsTested)&&(e.apiModel??_[e.apiCode].preferredModel),Ee=e=>[t("b",o(e,"greeting")),t("label",{for:"select_source_language"},o(e,"setup-source_language")),t("select",{id:"select_source_language",change:n=>{e.sourceLocale!==n.target.selectedOptions[0].value&&(e.sourceLocale=n.target.selectedOptions[0].value,e.sourceLanguage=P(e.sourceLocale))}},V.map(n=>t("option",{selected:e.sourceLocale===n?"selected":!1,value:n},o(e,n,n)))),t("label",{for:"select_target_language"},o(e,"setup-target_language")),t("select",{id:"select_target_language",change:n=>{e.targetLocale!==n.target.selectedOptions[0].value&&(e.targetLocale=n.target.selectedOptions[0].value,e.targetLanguage=P(e.targetLocale))}},J.map(n=>t("option",{selected:e.targetLocale===n?"selected":!1,value:n},o(e,n)))),t("label",{for:"select_proficiency_level"},o(e,"setup-proficiency_leven")),t("select",{id:"select_proficiency_level",change:n=>{e.proficiencyLevel!==n.target.selectedOptions[0].value&&(e.proficiencyLevel=n.target.selectedOptions[0].value)}},ne.map(n=>t("option",{selected:e.proficiencyLevel===n?"selected":!1,value:n},o(e,"proficiency_name-"+n)))),t("ul",o(e,"proficiency_description-"+e.proficiencyLevel).map(n=>t("li",n))),t("blockquote",t("p",m(V.includes(e.targetLocale),o(e,"proficiency_example-"+e.proficiencyLevel,e.targetLocale),o(e,"proficiency_example-"+e.proficiencyLevel)))),t("label",{for:"input_topics_of_interest"},o(e,"setup-topics_of_interest")),...e.topicsOfInterest.map((n,i)=>t("input",{keyup:r=>{r.target.value?e.topicsOfInterest[i]=r.target.value:e.topicsOfInterest.splice(i,1)},value:n})),t("input",{keyup:n=>{n.target.value&&e.topicsOfInterest.push(n.target.value)},id:"input_topics_of_interest"}),t("label",{for:"select_api_code"},o(e,"setup-api_code")),t("select",{id:"select_api_code",change:n=>{e.apiCode!==n.target.selectedOptions[0].value&&(e.apiCode=n.target.selectedOptions[0].value,e.apiCredentialsTested=!1)}},Object.keys(_).map(n=>t("option",{selected:e.apiCode===n?"selected":!1,value:n},_[n].name))),..._[e.apiCode].requireCredentials?[t("label",{for:"input-api_credentials"},o(e,"setup-api_credentials")),t("textarea",{id:"input-api_credentials",keyup:n=>{e.apiCredentials=n.target.value}},e.apiCredentials)]:[],t("button",{click:()=>{e.apiCredentialsPending=!0,ee(e).then(([n,i,r])=>{e.apiCredentialsPending=!1,n?(e.apiCredentialsTested=!1,e.apiCredentialsError=n.toString(),e.apiModels=null):(e.apiCredentialsTested=!0,e.apiCredentialsError=!1,e.apiModels=r)})},type:"button"},[o(e,"setup-test_api_credentials"),t("span",{class:e.apiCredentialsPending?"pending":""})]),...e.apiCredentialsError?[t("p",e.apiCredentialsError)]:[],...e.apiCredentialsTested?[t("label",{for:"select_api_model"},o(e,"setup-api_credentials_tested").replace("{%preferredModel%}",_[e.apiCode].preferredModelName??_[e.apiCode].preferredModel)),t("select",{id:"select_api_model",change:n=>{e.apiModel!==n.target.selectedOptions[0].value&&(e.apiModel=n.target.selectedOptions[0].value)}},e.apiModels.data.filter(_[e.apiCode].modelOptionsFilter??(()=>!0)).sort((n,i)=>n.id.localeCompare(i.id)).map(n=>t("option",{selected:(e.apiModel??_[e.apiCode].preferredModel)===n.id?"selected":!1,value:n.id},n.name??n.id)))]:[t("p",o(e,"setup-api_credentials_untested"))],...ae(e)?[t("p",o(e,"setup-outro"))]:[],t("button",{click:()=>{ae(e)&&(e.screen=b.overview)},disabled:!ae(e),type:"button"},o(e,"setup-next"))];var Ae=e=>[t("p",[t("b",o(e,"greeting"))]),...m(e.statisticComprehensionActivity>1||e.statisticConversationActivity>1||e.statisticClarificationActivity>1||e.statisticVocabularyActivity>1,t("p",o(e,"statistics-activity_per_category")),t("p",o(e,"statistics-no_activity"))),t("p",m(e.statisticCurrentActivityStreak>1&&new Date(e.statisticLastActivityOn).toISOString().slice(0,10)===new Date().toISOString().slice(0,10),[o(e,"statistics-current_activity_streak"),...m(e.statisticLongestActivityStreak>e.statisticCurrentActivityStreak,o(e,"statistics-longest_activity_streak"))],[o(e,"statistics-no_activity_streak"),...m(e.statisticLongestActivityStreak>1,o(e,"statistics-longest_activity_streak"))])),t("button",{click:()=>{e.screen=b.overview},type:"button"},o(e,"button-go_back"))];var H=e=>{let n=new Date(e.statisticLastActivityOn),i=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date,l=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())-i;l>1728e5?(e.statisticCurrentActivityStreak=1,e.statisticLastActivityOn=r.toISOString()):l>864e5&&(e.statisticCurrentActivityStreak++,e.statisticLastActivityOn=r.toISOString()),e.statisticCurrentActivityStreak>e.statisticLongestActivityStreak&&(e.statisticLongestActivityStreak=e.statisticCurrentActivityStreak)};var G=e=>(e=Math.abs(e),Math.random()<1/e),U=e=>{if(!Array.isArray(e)||e.length===0)return null;let n=Math.floor(Math.random()*e.length);return e[n]};var Se=e=>[t("p",[t("b",o(e,"greeting")),t("br"),o(e,"conversation-intro")]),...m(e.conversationMessages&&e.conversationMessages.length>0,t("div",{class:"messages"},e.conversationMessages.map(n=>t("p",{class:"message-"+n.role},n.content.split(`
`).flatMap((i,r,s)=>r===s.length-1?[i]:[i,t("br")]))))),...m(e.conversationError,t("p",e.conversationError)),...m(e.conversationPending,t("p",{class:"pending"}),m(e.conversationMessages&&e.conversationMessages.length>0,t("textarea",{class:"message-user",id:"input-question",keyup:n=>{e.conversationInput=n.target.value}},e.conversationInput))),t("div",{class:"row reverse"},[...m(e.conversationMessages&&e.conversationMessages.length>0&&!e.conversationStopped,t("button",{disabled:e.conversationPending||!e.conversationInput||e.conversationInput.trim().length===0,type:"button",click:()=>{!e.conversationPending&&e.conversationInput&&e.conversationInput.trim().length>0&&(e.conversationError=!1,e.conversationPending=!0,e.conversationMessages.push({role:"user",content:e.conversationInput.trim()}),e.conversationInput="",O(e,e.conversationMessages,o(e,"prompt-context"),o(e,"prompt-conversation-follow_up")).then(([n,i,r])=>{if(e.conversationPending=!1,n){e.conversationError=n.toString();let s=e.conversationMessages.pop();e.conversationInput=s.content;return}r.content.endsWith("STOP")&&(e.conversationStopped=!0),e.conversationMessages.push(r),e.statisticConversationActivity++,H(e)}))}},o(e,"button-reply")),t("button",{disabled:e.conversationPending,type:"button",click:()=>{e.conversationPending||(e.conversationError=!1,e.conversationMessages=[],e.conversationPending=!0,O(e,[],o(e,"prompt-context"),o(e,"prompt-conversation")+(G(10)?o(e,"prompt-topic").replace("{%topic%}",U(e.topicsOfInterest.filter(n=>n))):"")).then(([n,i,r])=>{if(e.conversationPending=!1,n){e.conversationError=n.toString();return}e.conversationMessages.push(r)}))}},o(e,"button-generate"))),...m(e.conversationPending||e.conversationMessages&&e.conversationMessages.length>0,t("button",{click:()=>{e.conversationError=!1,e.conversationMessages=[],e.conversationPending=!1,e.conversationStopped=!1},type:"button"},o(e,"button-reset"))),t("button",{click:()=>{e.screen=b.overview},type:"button"},o(e,"button-go_back"))])];var Ie=e=>[t("p",[t("b",o(e,"greeting")),t("br"),t("label",{for:"input-question"},o(e,"clarification-intro"))]),...m(e.clarificationMessages&&e.clarificationMessages.length>0,t("div",{class:"messages"},e.clarificationMessages.map(n=>t("p",{class:"message-"+n.role},n.content.split(`
`).flatMap((i,r,s)=>r===s.length-1?[i]:[i,t("br")]))))),...m(e.clarificationError,t("p",e.clarificationError)),...m(e.clarificationPending,t("p",{class:"pending"}),t("textarea",{class:"message-user",id:"input-question",placeholder:o(e,"clarification-placeholder"),keyup:n=>{e.clarificationInput=n.target.value}},e.clarificationInput)),t("div",{class:"row reverse"},[t("button",{disabled:e.clarificationPending||!e.clarificationInput||e.clarificationInput.trim().length===0,type:"button",click:()=>{!e.clarificationPending&&e.clarificationInput&&e.clarificationInput.trim().length>0&&(e.clarificationError=!1,e.clarificationPending=!0,e.clarificationMessages.push({role:"user",content:e.clarificationInput.trim()}),e.clarificationInput="",O(e,e.clarificationMessages,o(e,"prompt-context"),o(e,"prompt-clarification")).then(([n,i,r])=>{if(e.clarificationPending=!1,n){e.clarificationError=n.toString();let s=e.clarificationMessages.pop();e.clarificationInput=s.content;return}e.clarificationMessages.push(r),e.statisticClarificationActivity++,onActivity(e)}))}},o(e,"button-ask")),...m(e.clarificationPending||e.clarificationMessages&&e.clarificationMessages.length>0,t("button",{type:"button",click:()=>{e.clarificationError=!1,e.clarificationMessages=[],e.clarificationPending=!1}},o(e,"button-reset"))),t("button",{type:"button",click:()=>{e.screen=b.overview}},o(e,"button-go_back"))])];var Oe=e=>[t("p",[t("b",o(e,"greeting")),t("br"),o(e,"comprehension-intro")]),...m(e.comprehensionMessages&&e.comprehensionMessages.length>0,t("div",{class:"messages"},e.comprehensionMessages.map(n=>t("p",{class:"message-"+n.role},n.content.split(`
`).flatMap((i,r,s)=>r===s.length-1?[i]:[i,t("br")]))))),...m(e.comprehensionError,t("p",e.comprehensionError)),...m(e.comprehensionPending,t("p",{class:"pending"}),m(e.comprehensionMessages&&e.comprehensionMessages.length>0&&e.comprehensionMessages.length<3,t("textarea",{class:"message-user",id:"input-question",keyup:n=>{e.comprehensionInput=n.target.value}},e.comprehensionInput))),t("div",{class:"row reverse"},[...m(e.comprehensionMessages&&e.comprehensionMessages.length>0&&e.comprehensionMessages.length<3,t("button",{disabled:e.comprehensionPending||!e.comprehensionInput||e.comprehensionInput.trim().length===0,type:"button",click:()=>{!e.comprehensionPending&&e.comprehensionInput&&e.comprehensionInput.trim().length>0&&(e.comprehensionError=!1,e.comprehensionPending=!0,e.comprehensionMessages.push({role:"user",content:e.comprehensionInput.trim()}),e.comprehensionInput="",O(e,e.comprehensionMessages,o(e,"prompt-context"),o(e,"prompt-comprehension-follow_up")).then(([n,i,r])=>{if(e.comprehensionPending=!1,n){e.comprehensionError=n.toString();let s=e.comprehensionMessages.pop();e.comprehensionInput=s.content;return}e.comprehensionMessages.push(r),e.statisticComprehensionActivity++,H(e)}))}},o(e,"button-answer")),t("button",{disabled:e.comprehensionPending,type:"button",click:()=>{e.comprehensionPending||(e.comprehensionError=!1,e.comprehensionMessages=[],e.comprehensionPending=!0,O(e,[],o(e,"prompt-context"),o(e,"prompt-comprehension")+(G(10)?o(e,"prompt-topic").replace("{%topic%}",U(e.topicsOfInterest.filter(n=>n))):"")).then(([n,i,r])=>{if(e.comprehensionPending=!1,n){e.comprehensionError=n.toString();return}e.comprehensionMessages.push(r)}))}},o(e,"button-generate"))),...m(e.comprehensionPending||e.comprehensionMessages&&e.comprehensionMessages.length>0,t("button",{click:()=>{e.comprehensionError=!1,e.comprehensionMessages=[],e.comprehensionPending=!1},type:"button"},o(e,"button-reset"))),t("button",{click:()=>{e.screen=b.overview},type:"button"},o(e,"button-go_back"))])];var Pe=e=>[t("p",[t("b",o(e,"greeting")),t("br"),o(e,"vocabulary-intro")]),...m(e.vocabularyMessages&&e.vocabularyMessages.length>0,t("div",{class:"messages"},e.vocabularyMessages.map(n=>t("p",{class:"message-"+n.role},n.content.split(`
`).flatMap((i,r,s)=>r===s.length-1?[i]:[i,t("br")]))))),...m(e.vocabularyError,t("p",e.vocabularyError)),...m(e.vocabularyPending,t("p",{class:"pending"}),m(e.vocabularyMessages&&e.vocabularyMessages.length>0&&e.vocabularyMessages.length<3,t("textarea",{class:"message-user",id:"input-question",keyup:n=>{e.vocabularyInput=n.target.value}},e.vocabularyInput))),t("div",{class:"row reverse"},[...m(e.vocabularyMessages&&e.vocabularyMessages.length>0&&e.vocabularyMessages.length<3,t("button",{disabled:e.vocabularyPending||!e.vocabularyInput||e.vocabularyInput.trim().length===0,type:"button",click:()=>{!e.vocabularyPending&&e.vocabularyInput&&e.vocabularyInput.trim().length>0&&(e.vocabularyError=!1,e.vocabularyPending=!0,e.vocabularyMessages.push({role:"user",content:e.vocabularyInput.trim()}),e.vocabularyInput="",O(e,e.vocabularyMessages,o(e,"prompt-context"),o(e,"prompt-vocabulary-follow_up")).then(([n,i,r])=>{if(e.vocabularyPending=!1,n){e.vocabularyError=n.toString();let s=e.vocabularyMessages.pop();e.vocabularyInput=s.content;return}e.vocabularyMessages.push(r),e.statisticVocabularyActivity++,H(e)}))}},o(e,"button-answer")),t("button",{disabled:e.vocabularyPending,type:"button",click:()=>{e.vocabularyPending||(e.vocabularyError=!1,e.vocabularyMessages=[],e.vocabularyPending=!0,O(e,[],o(e,"prompt-context"),o(e,"prompt-vocabulary")+(G(10)?o(e,"prompt-topic").replace("{%topic%}",U(e.topicsOfInterest.filter(n=>n))):"")).then(([n,i,r])=>{if(e.vocabularyPending=!1,n){e.vocabularyError=n.toString();return}e.vocabularyMessages.push(r)}))}},o(e,"button-generate"))),...m(e.vocabularyPending||e.vocabularyMessages&&e.vocabularyMessages.length>0,t("button",{click:()=>{e.vocabularyError=!1,e.vocabularyMessages=[],e.vocabularyPending=!1},type:"button"},o(e,"button-reset"))),t("button",{click:()=>{e.screen=b.overview},type:"button"},o(e,"button-go_back"))])];var Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ne=e=>{let n="",i=Te.length,r=0;for(;r<e;)n+=Te.charAt(Math.floor(Math.random()*i)),r+=1;return n};var se="toaln:state",ze=Le();he(document.getElementById("app"),e=>{localStorage.setItem(se,JSON.stringify(e)),document.documentElement.setAttribute("lang",e.sourceLocale);let n=null;switch(e.screen){default:case b.options:n=Me(e);break;case b.overview:n=Ce(e);break;case b.setup:n=Ee(e);break;case b.statistics:n=Ae(e);break;case b.clarification:n=Ie(e);break;case b.comprehension:n=Oe(e);break;case b.conversation:n=Se(e);break;case b.vocabulary:n=Pe(e);break}return t("div",{class:"screen"},n)},Object.assign({screen:b.setup,userIdentifier:Ne(),sourceLocale:ze,sourceLanguage:P(ze),targetLocale:w.en_gb,targetLanguage:P(w.en_gb),proficiencyLevel:oe.a1,topicsOfInterest:[],apiCode:_.open_ai.code,apiModel:null,apiCredentials:null,apiCredentialsError:!1,apiCredentialsTested:!1,apiCredentialsPending:!1,statisticComprehensionActivity:0,statisticConversationActivity:0,statisticClarificationActivity:0,statisticVocabularyActivity:0,statisticLastActivityOn:null,statisticCurrentActivityStreak:0,statisticLongestActivityStreak:0,clarificationInput:"",clarificationError:!1,clarificationPending:!1,clarificationMessages:[],comprehensionInput:"",comprehensionReviewed:!1,comprehensionError:!1,comprehensionPending:!1,comprehensionMessages:[],conversationInput:"",conversationStopped:!1,conversationError:!1,conversationPending:!1,conversationMessages:[],vocabularyInput:"",vocabularyReviewed:!1,vocabularyError:!1,vocabularyPending:!1,vocabularyMessages:[]},localStorage.getItem(se)?JSON.parse(localStorage.getItem(se)):{}));})();
